/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var nbu =
    /* color: #28d659 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[72.48565466309753, 23.013090225731943],
                  [72.48565466309753, 23.01218172380882],
                  [72.4868562927362, 23.01218172380882],
                  [72.4868562927362, 23.013090225731943]]], null, false),
            {
              "class": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.48151333237854, 23.0108387097585],
                  [72.48151333237854, 23.009890691790975],
                  [72.48273641968933, 23.009890691790975],
                  [72.48273641968933, 23.0108387097585]]], null, false),
            {
              "class": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.48265058900085, 23.00720460470793],
                  [72.48265058900085, 23.006236810228593],
                  [72.48398096467224, 23.006236810228593],
                  [72.48398096467224, 23.00720460470793]]], null, false),
            {
              "class": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50040144826141, 23.010868335212642],
                  [72.50040144826141, 23.010379514387374],
                  [72.50116319562164, 23.010379514387374],
                  [72.50116319562164, 23.010868335212642]]], null, false),
            {
              "class": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49854535962311, 23.009821565220278],
                  [72.49854535962311, 23.009426555565323],
                  [72.49904425049988, 23.009426555565323],
                  [72.49904425049988, 23.009821565220278]]], null, false),
            {
              "class": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49695212746826, 23.00991044223325],
                  [72.49695212746826, 23.00942161793733],
                  [72.49754757786957, 23.00942161793733],
                  [72.49754757786957, 23.00991044223325]]], null, false),
            {
              "class": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50098740533024, 23.012437718666618],
                  [72.50098740533024, 23.01211677963381],
                  [72.501486296207, 23.01211677963381],
                  [72.501486296207, 23.012437718666618]]], null, false),
            {
              "class": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49612187817722, 23.012250092863223],
                  [72.49612187817722, 23.011953841063395],
                  [72.49648129418522, 23.011953841063395],
                  [72.49648129418522, 23.012250092863223]]], null, false),
            {
              "class": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49531185105472, 23.011835340161273],
                  [72.49531185105472, 23.01150946214379],
                  [72.49571954682499, 23.01150946214379],
                  [72.49571954682499, 23.011835340161273]]], null, false),
            {
              "class": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50769643206644, 23.01452064371778],
                  [72.50769643206644, 23.014145397644366],
                  [72.50847963709879, 23.014145397644366],
                  [72.50847963709879, 23.01452064371778]]], null, false),
            {
              "class": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5057974280839, 23.013256652780115],
                  [72.5057974280839, 23.012486402494627],
                  [72.50663427729654, 23.012486402494627],
                  [72.50663427729654, 23.013256652780115]]], null, false),
            {
              "class": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5091126384263, 23.013799775337404],
                  [72.5091126384263, 23.013266527755206],
                  [72.50970272440958, 23.013266527755206],
                  [72.50970272440958, 23.013799775337404]]], null, false),
            {
              "class": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50782517809915, 23.01674247407806],
                  [72.50782517809915, 23.01673259935746],
                  [72.50811485667276, 23.01673259935746],
                  [72.50811485667276, 23.01674247407806]]], null, false),
            {
              "class": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50090507884073, 23.016702975191237],
                  [72.50090507884073, 23.01607099142841],
                  [72.50158099551248, 23.01607099142841],
                  [72.50158099551248, 23.016702975191237]]], null, false),
            {
              "class": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49740747828531, 23.016051241888096],
                  [72.49740747828531, 23.015715499260445],
                  [72.49777225871134, 23.015715499260445],
                  [72.49777225871134, 23.016051241888096]]], null, false),
            {
              "class": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49698905367899, 23.013394902365846],
                  [72.49698905367899, 23.012960403190835],
                  [72.49771861453104, 23.012960403190835],
                  [72.49771861453104, 23.013394902365846]]], null, false),
            {
              "class": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.4941459121232, 23.01318752793418],
                  [72.4941459121232, 23.01289127819304],
                  [72.49488620181131, 23.01289127819304],
                  [72.49488620181131, 23.01318752793418]]], null, false),
            {
              "class": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.51445546856034, 23.025081565200995],
                  [72.51445546856034, 23.024607607106788],
                  [72.51517430057633, 23.024607607106788],
                  [72.51517430057633, 23.025081565200995]]], null, false),
            {
              "class": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5175990175258, 23.028952160599992],
                  [72.5175990175258, 23.028488089974577],
                  [72.51818910350907, 23.028488089974577],
                  [72.51818910350907, 23.028952160599992]]], null, false),
            {
              "class": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.51869335880387, 23.028932412946357],
                  [72.51869335880387, 23.02818199996423],
                  [72.5195623945247, 23.02818199996423],
                  [72.5195623945247, 23.028932412946357]]], null, false),
            {
              "class": 0,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52084471850465, 23.026596214980795],
                  [72.52084471850465, 23.02604326992137],
                  [72.52137043147157, 23.02604326992137],
                  [72.52137043147157, 23.026596214980795]]], null, false),
            {
              "class": 0,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.53553214246043, 23.03997960346422],
                  [72.53553214246043, 23.03879483608005],
                  [72.53699126416453, 23.03879483608005],
                  [72.53699126416453, 23.03997960346422]]], null, false),
            {
              "class": 0,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52233567410715, 23.044086716392354],
                  [72.52233567410715, 23.0435535886138],
                  [72.5232798116804, 23.0435535886138],
                  [72.5232798116804, 23.044086716392354]]], null, false),
            {
              "class": 0,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52499642544993, 23.043198168922416],
                  [72.52499642544993, 23.04248732672617],
                  [72.52587619000681, 23.04248732672617],
                  [72.52587619000681, 23.043198168922416]]], null, false),
            {
              "class": 0,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52400937253245, 23.04181597231865],
                  [72.52400937253245, 23.040986647548742],
                  [72.52491059476145, 23.040986647548742],
                  [72.52491059476145, 23.04181597231865]]], null, false),
            {
              "class": 0,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.57306172713966, 23.03598378282248],
                  [72.57306172713966, 23.034562018547053],
                  [72.57426335677833, 23.034562018547053],
                  [72.57426335677833, 23.03598378282248]]], null, false),
            {
              "class": 0,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.57566066969198, 23.052508342763684],
                  [72.57566066969198, 23.050928797545748],
                  [72.57720562208456, 23.050928797545748],
                  [72.57720562208456, 23.052508342763684]]], null, false),
            {
              "class": 0,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5743302940206, 23.02486362694267],
                  [72.5743302940206, 23.023323254554423],
                  [72.57561775434775, 23.023323254554423],
                  [72.57561775434775, 23.02486362694267]]], null, false),
            {
              "class": 0,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.68683489184394, 23.01212531748654],
                  [72.68683489184394, 23.010910679849328],
                  [72.68822964053169, 23.010910679849328],
                  [72.68822964053169, 23.01212531748654]]], null, false),
            {
              "class": 0,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.69045050959602, 23.01332019424718],
                  [72.69045050959602, 23.012174692768948],
                  [72.69152339320198, 23.012174692768948],
                  [72.69152339320198, 23.01332019424718]]], null, false),
            {
              "class": 0,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.6833158336164, 23.01301406980455],
                  [72.6833158336164, 23.012233943083956],
                  [72.68446381907478, 23.012233943083956],
                  [72.68446381907478, 23.01301406980455]]], null, false),
            {
              "class": 0,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.67707165102973, 23.01268819463449],
                  [72.67707165102973, 23.0117796900038],
                  [72.67849858622566, 23.0117796900038],
                  [72.67849858622566, 23.01268819463449]]], null, false),
            {
              "class": 0,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.67816599230781, 23.014544685070533],
                  [72.67816599230781, 23.01347819368771],
                  [72.67923887591377, 23.01347819368771],
                  [72.67923887591377, 23.014544685070533]]], null, false),
            {
              "class": 0,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.6903217635633, 23.016075282967993],
                  [72.6903217635633, 23.015413671814553],
                  [72.69105132441535, 23.015413671814553],
                  [72.69105132441535, 23.016075282967993]]], null, false),
            {
              "class": 0,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.68663104395881, 23.015630917625792],
                  [72.68663104395881, 23.014890305468796],
                  [72.68773611407295, 23.014890305468796],
                  [72.68773611407295, 23.015630917625792]]], null, false),
            {
              "class": 0,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.71553840093799, 23.017830754660782],
                  [72.71553840093799, 23.016606293669707],
                  [72.71675075941272, 23.016606293669707],
                  [72.71675075941272, 23.017830754660782]]], null, false),
            {
              "class": 0,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.71506633215137, 23.01600393378011],
                  [72.71506633215137, 23.01512507600062],
                  [72.7161714022655, 23.01512507600062],
                  [72.7161714022655, 23.01600393378011]]], null, false),
            {
              "class": 0,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.71916474752612, 23.017870253217335],
                  [72.71916474752612, 23.01693215937388],
                  [72.72010888509936, 23.01693215937388],
                  [72.72010888509936, 23.017870253217335]]], null, false),
            {
              "class": 0,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.70868267469592, 23.018521977730355],
                  [72.70868267469592, 23.01767276031886],
                  [72.70984138899036, 23.01767276031886],
                  [72.70984138899036, 23.018521977730355]]], null, false),
            {
              "class": 0,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.7059039061565, 23.015302822979788],
                  [72.7059039061565, 23.014473335073],
                  [72.70708407812305, 23.014473335073],
                  [72.70708407812305, 23.015302822979788]]], null, false),
            {
              "class": 0,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.64443317494984, 22.995586380713714],
                  [72.64443317494984, 22.994895040144375],
                  [72.6453451260149, 22.994895040144375],
                  [72.6453451260149, 22.995586380713714]]], null, false),
            {
              "class": 0,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.6488749130785, 22.99306790874182],
                  [72.6488749130785, 22.992317296243893],
                  [72.64966884694691, 22.992317296243893],
                  [72.64966884694691, 22.99306790874182]]], null, false),
            {
              "class": 0,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.64429370008106, 22.992188901582924],
                  [72.64429370008106, 22.991566679573463],
                  [72.6448945149004, 22.991566679573463],
                  [72.6448945149004, 22.992188901582924]]], null, false),
            {
              "class": 0,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.65110651097889, 22.996988803565362],
                  [72.65110651097889, 22.99634685125117],
                  [72.65186825833912, 22.99634685125117],
                  [72.65186825833912, 22.996988803565362]]], null, false),
            {
              "class": 0,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.650044356209, 22.99654437536528],
                  [72.650044356209, 22.995872792198217],
                  [72.65091339192982, 22.995872792198217],
                  [72.65091339192982, 22.99654437536528]]], null, false),
            {
              "class": 0,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.65456119619007, 22.997166574435727],
                  [72.65456119619007, 22.996574003957473],
                  [72.65529075704212, 22.996574003957473],
                  [72.65529075704212, 22.997166574435727]]], null, false),
            {
              "class": 0,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.58544230346283, 22.989353118858265],
                  [72.58544230346283, 22.987812341050095],
                  [72.58773827437957, 22.987812341050095],
                  [72.58773827437957, 22.989353118858265]]], null, false),
            {
              "class": 0,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.61881659486005, 23.010174527999478],
                  [72.61881659486005, 23.009621515605502],
                  [72.61955688454816, 23.009621515605502],
                  [72.61955688454816, 23.010174527999478]]], null, false),
            {
              "class": 0,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.61806557633588, 23.008890745751035],
                  [72.61806557633588, 23.008150096589624],
                  [72.6190419004173, 23.008150096589624],
                  [72.6190419004173, 23.008890745751035]]], null, false),
            {
              "class": 0,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.61948212543246, 23.041104493489044],
                  [72.61948212543246, 23.039919735997568],
                  [72.6207695857596, 23.039919735997568],
                  [72.6207695857596, 23.041104493489044]]], null, false),
            {
              "class": 0,
              "system:index": "49"
            })]),
    bu =
    /* color: #ff2b10 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[72.55821826634332, 23.050534019942667],
                  [72.55821826634332, 23.049497430284074],
                  [72.55952718434258, 23.049497430284074],
                  [72.55952718434258, 23.050534019942667]]], null, false),
            {
              "class": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.55760672268792, 23.052212291042135],
                  [72.55760672268792, 23.05108686449766],
                  [72.55907657322808, 23.05108686449766],
                  [72.55907657322808, 23.052212291042135]]], null, false),
            {
              "class": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.56838920292779, 23.0515311129416],
                  [72.56838920292779, 23.05024772454887],
                  [72.56966593441888, 23.05024772454887],
                  [72.56966593441888, 23.0515311129416]]], null, false),
            {
              "class": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5620699184887, 23.049053175130464],
                  [72.5620699184887, 23.048016574072317],
                  [72.56340029416009, 23.048016574072317],
                  [72.56340029416009, 23.049053175130464]]], null, false),
            {
              "class": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52369259789576, 23.06300015365502],
                  [72.52369259789576, 23.061440474438808],
                  [72.5262031455337, 23.061440474438808],
                  [72.5262031455337, 23.06300015365502]]], null, false),
            {
              "class": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.53285502389063, 23.064342647870983],
                  [72.53285502389063, 23.06258555714626],
                  [72.53459309533228, 23.06258555714626],
                  [72.53459309533228, 23.064342647870983]]], null, false),
            {
              "class": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52989386513819, 23.057866964035462],
                  [72.52989386513819, 23.05597158299574],
                  [72.53223275139918, 23.05597158299574],
                  [72.53223275139918, 23.057866964035462]]], null, false),
            {
              "class": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.54572776915181, 23.069331684613978],
                  [72.54572776915181, 23.06821627216258],
                  [72.54719761969197, 23.06821627216258],
                  [72.54719761969197, 23.069331684613978]]], null, false),
            {
              "class": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.54864601256001, 23.07097023834584],
                  [72.54864601256001, 23.069558714334168],
                  [72.5504269993459, 23.069558714334168],
                  [72.5504269993459, 23.07097023834584]]], null, false),
            {
              "class": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.55111364485371, 23.0716908008372],
                  [72.55111364485371, 23.070377992312263],
                  [72.55256203772176, 23.070377992312263],
                  [72.55256203772176, 23.0716908008372]]], null, false),
            {
              "class": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.50879440014218, 23.072620621975275],
                  [72.50879440014218, 23.071524978205787],
                  [72.51023206417416, 23.071524978205787],
                  [72.51023206417416, 23.072620621975275]]], null, false),
            {
              "class": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.51449141208981, 23.071446012544282],
                  [72.51449141208981, 23.07000488107922],
                  [72.51615438167904, 23.07000488107922],
                  [72.51615438167904, 23.071446012544282]]], null, false),
            {
              "class": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49643476836059, 23.085681827252344],
                  [72.49643476836059, 23.08495640486992],
                  [72.49716969363067, 23.08495640486992],
                  [72.49716969363067, 23.085681827252344]]], null, false),
            {
              "class": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.47903499012024, 23.102978841643285],
                  [72.47903499012024, 23.101498574207657],
                  [72.48085889225037, 23.101498574207657],
                  [72.48085889225037, 23.102978841643285]]], null, false),
            {
              "class": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5935841682897, 23.027281425151706],
                  [72.5935841682897, 23.026639616972762],
                  [72.5942332628713, 23.026639616972762],
                  [72.5942332628713, 23.027281425151706]]], null, false),
            {
              "class": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.59038697514394, 23.027562832389627],
                  [72.59038697514394, 23.026950647471846],
                  [72.59123991761068, 23.026950647471846],
                  [72.59123991761068, 23.027562832389627]]], null, false),
            {
              "class": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.60934988735686, 23.029828009881232],
                  [72.60934988735686, 23.028504919287915],
                  [72.61101285694609, 23.028504919287915],
                  [72.61101285694609, 23.029828009881232]]], null, false),
            {
              "class": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.59274164913664, 23.030756140307705],
                  [72.59274164913664, 23.0301933385778],
                  [72.59362141369353, 23.0301933385778],
                  [72.59362141369353, 23.030756140307705]]], null, false),
            {
              "class": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.58861710173579, 23.038054851303],
                  [72.58861710173579, 23.036445516746404],
                  [72.5900225792596, 23.036445516746404],
                  [72.5900225792596, 23.038054851303]]], null, false),
            {
              "class": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.58457233054133, 23.03763030478965],
                  [72.58457233054133, 23.03652450294007],
                  [72.58590270621272, 23.03652450294007],
                  [72.58590270621272, 23.03763030478965]]], null, false),
            {
              "class": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.59348799330684, 23.037047785303628],
                  [72.59348799330684, 23.035892612094273],
                  [72.594957843847, 23.035892612094273],
                  [72.594957843847, 23.037047785303628]]], null, false),
            {
              "class": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.56456097369993, 23.08033152381615],
                  [72.56456097369993, 23.078999059324314],
                  [72.56592353587949, 23.078999059324314],
                  [72.56592353587949, 23.08033152381615]]], null, false),
            {
              "class": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.57296165233457, 23.08137774594047],
                  [72.57296165233457, 23.080084772128696],
                  [72.57410963779294, 23.080084772128696],
                  [72.57410963779294, 23.08137774594047]]], null, false),
            {
              "class": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.56100972896421, 23.079423475373336],
                  [72.56100972896421, 23.078456199634683],
                  [72.56255468135679, 23.078456199634683],
                  [72.56255468135679, 23.079423475373336]]], null, false),
            {
              "class": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.59244395909863, 23.08886205587978],
                  [72.59244395909863, 23.088195867560096],
                  [72.59312524018841, 23.088195867560096],
                  [72.59312524018841, 23.08886205587978]]], null, false),
            {
              "class": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.58891417203503, 23.08902490141124],
                  [72.58891417203503, 23.087914587055902],
                  [72.59019090352612, 23.087914587055902],
                  [72.59019090352612, 23.08902490141124]]], null, false),
            {
              "class": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.63284367422881, 23.083747187676313],
                  [72.63284367422881, 23.082246968536918],
                  [72.63458174567046, 23.082246968536918],
                  [72.63458174567046, 23.083747187676313]]], null, false),
            {
              "class": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.61123781615103, 23.03548171268339],
                  [72.61123781615103, 23.034583235045087],
                  [72.61229997092093, 23.034583235045087],
                  [72.61229997092093, 23.03548171268339]]], null, false),
            {
              "class": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.61444573813284, 23.03697257994195],
                  [72.61444573813284, 23.035649559490157],
                  [72.61594777518118, 23.035649559490157],
                  [72.61594777518118, 23.03697257994195]]], null, false),
            {
              "class": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.60209577668272, 23.04857847538297],
                  [72.60209577668272, 23.047275313883606],
                  [72.60400550950132, 23.047275313883606],
                  [72.60400550950132, 23.04857847538297]]], null, false),
            {
              "class": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.51149811879407, 23.047834507790366],
                  [72.51149811879407, 23.04608707415321],
                  [72.51345076695691, 23.04608707415321],
                  [72.51345076695691, 23.047834507790366]]], null, false),
            {
              "class": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.49712295504843, 23.062788240255994],
                  [72.49712295504843, 23.06162341641217],
                  [72.49815292331014, 23.06162341641217],
                  [72.49815292331014, 23.062788240255994]]], null, false),
            {
              "class": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.54670277405151, 23.075491479960288],
                  [72.54670277405151, 23.072964630315727],
                  [72.5489343719519, 23.072964630315727],
                  [72.5489343719519, 23.075491479960288]]], null, false),
            {
              "class": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.55421295929321, 23.07580733282782],
                  [72.55421295929321, 23.07367531157657],
                  [72.55751744079956, 23.07367531157657],
                  [72.55751744079956, 23.07580733282782]]], null, false),
            {
              "class": 1,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.53350630569824, 23.074001039232826],
                  [72.53350630569824, 23.072036790796002],
                  [72.53615632820495, 23.072036790796002],
                  [72.53615632820495, 23.074001039232826]]], null, false),
            {
              "class": 1,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52723091860975, 23.03366481301143],
                  [72.52723091860975, 23.032420748682313],
                  [72.52894753237928, 23.032420748682313],
                  [72.52894753237928, 23.03366481301143]]], null, false),
            {
              "class": 1,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52270334979261, 23.035698734716632],
                  [72.52270334979261, 23.034118992365073],
                  [72.52474182864393, 23.034118992365073],
                  [72.52474182864393, 23.035698734716632]]], null, false),
            {
              "class": 1,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.54976147433484, 23.028668739099235],
                  [72.54976147433484, 23.026970426741123],
                  [72.55210036059583, 23.026970426741123],
                  [72.55210036059583, 23.028668739099235]]], null, false),
            {
              "class": 1,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.55617731829847, 23.032835438068055],
                  [72.55617731829847, 23.03024854533837],
                  [72.55915993472303, 23.03024854533837],
                  [72.55915993472303, 23.032835438068055]]], null, false),
            {
              "class": 1,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.64766142687054, 22.9969522718421],
                  [72.64766142687054, 22.99607328997167],
                  [72.64864847978802, 22.99607328997167],
                  [72.64864847978802, 22.9969522718421]]], null, false),
            {
              "class": 1,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.65313313326092, 22.99596465136559],
                  [72.65313313326092, 22.99518936422971],
                  [72.65385196527691, 22.99518936422971],
                  [72.65385196527691, 22.99596465136559]]], null, false),
            {
              "class": 1,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.64301113330575, 23.006479138035033],
                  [72.64301113330575, 23.005649595875003],
                  [72.64406792365762, 23.005649595875003],
                  [72.64406792365762, 23.006479138035033]]], null, false),
            {
              "class": 1,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.63917020999642, 23.00445958899076],
                  [72.63917020999642, 23.003802858706333],
                  [72.64008216106149, 23.003802858706333],
                  [72.64008216106149, 23.00445958899076]]], null, false),
            {
              "class": 1,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.62459470431035, 23.015117807565044],
                  [72.62459470431035, 23.014110570204384],
                  [72.62584997812932, 23.014110570204384],
                  [72.62584997812932, 23.015117807565044]]], null, false),
            {
              "class": 1,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.62965335051244, 23.015483176121137],
                  [72.62965335051244, 23.01433769301113],
                  [72.63109101454442, 23.01433769301113],
                  [72.63109101454442, 23.015483176121137]]], null, false),
            {
              "class": 1,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.5929084117717, 23.018501870267272],
                  [72.5929084117717, 23.017763742536697],
                  [72.5937720830745, 23.017763742536697],
                  [72.5937720830745, 23.018501870267272]]], null, false),
            {
              "class": 1,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.56404451603258, 23.017177110456608],
                  [72.56404451603258, 23.015725523443777],
                  [72.565922062343, 23.015725523443777],
                  [72.565922062343, 23.017177110456608]]], null, false),
            {
              "class": 1,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52290852145079, 23.033167515925737],
                  [72.52290852145079, 23.031962941433807],
                  [72.52428181246641, 23.031962941433807],
                  [72.52428181246641, 23.033167515925737]]], null, false),
            {
              "class": 1,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.52419598177794, 23.03062999809512],
                  [72.52419598177794, 23.02921805114397],
                  [72.52598769739988, 23.02921805114397],
                  [72.52598769739988, 23.03062999809512]]], null, false),
            {
              "class": 1,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[72.53902594674939, 23.05493608122571],
                  [72.53902594674939, 23.053850165460744],
                  [72.54044215310925, 23.053850165460744],
                  [72.54044215310925, 23.05493608122571]]], null, false),
            {
              "class": 1,
              "system:index": "49"
            })]),
    L7 = ee.ImageCollection("LANDSAT/LE07/C02/T1_L2");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
//  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//  Chapter:      A1.2 Urban Environments
//  Checkpoint:   A12g
//  Authors:      Michelle Stuhlmacher and Ran Goldblatt
//  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Map.centerObject(bu, 13);

// Surface reflectance function from example:
function maskL457sr(image) {
    var qaMask = image.select('QA_PIXEL').bitwiseAnd(parseInt('11111',
        2)).eq(0);
    var saturationMask = image.select('QA_RADSAT').eq(0);

    // Apply the scaling factors to the appropriate bands.
    var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-
        0.2);
    var thermalBand = image.select('ST_B6').multiply(0.00341802).add(
        149.0);

    // Replace the original bands with the scaled ones and apply the masks.
    return image.addBands(opticalBands, null, true)
        .addBands(thermalBand, null, true)
        .updateMask(qaMask)
        .updateMask(saturationMask);
}

// Map the function over one year of data.
var collection = L7.filterDate('2020-01-01', '2021-01-01').map(
    maskL457sr);
var landsat7_2020 = collection.median();

Map.addLayer(landsat7_2020, {
    bands: ['SR_B3', 'SR_B2', 'SR_B1'],
    min: 0,
    max: 0.3
}, 'landsat 7, 2020');

// -----------------------------------------------------------------------
// CHECKPOINT
// -----------------------------------------------------------------------

var lc = nbu.merge(bu);

// -----------------------------------------------------------------------
// CHECKPOINT
// -----------------------------------------------------------------------

var bands = ['SR_B1', 'SR_B2', 'SR_B3', 'SR_B4', 'SR_B5', 'ST_B6',
    'SR_B7'
];

var training = landsat7_2020.select(bands).sampleRegions({
    collection: lc,
    properties: ['class'],
    scale: 30
});

// Create a random forest classifier with 20 trees.
var classifier = ee.Classifier.smileRandomForest({
    numberOfTrees: 20
}).train({ // Train the classifier.
    // Use the examples we got when we sampled the pixels.
    features: training,
    // This is the class that we want to predict.
    classProperty: 'class',
    // The bands the classifier will use for training and classification.
    inputProperties: bands
});

// Apply the classifier on the 2020 image.
var classified20 = landsat7_2020.select(bands).classify(classifier);

Map.addLayer(classified20.mask(classified20), {
    palette: ['#ff4218'],
    opacity: 0.6
}, 'built-up, 2020');

// -----------------------------------------------------------------------
// CHECKPOINT
// -----------------------------------------------------------------------